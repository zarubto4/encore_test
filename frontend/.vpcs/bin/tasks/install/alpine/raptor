#!/usr/bin/env bash
#- vpcs install raptor - installs raptor via rubygems

[[ -z "$(which ruby $NOERR)" ]] && vpcs install package ruby
[[ -z "$(which ruby $NOERR)" ]] && vpcs log error "Ruby install does not appear to have succeeded. Try installing manually." && exit 1
[[ -z "$(which gem $NOERR)" ]] && vpcs install package rubygems
[[ -z "$(which gem $NOERR)" ]] && vpcs log error "Rubygems does not appear to be installed. Try installing manually." && exit 1
[[ -z "$(which raptor $NOERR)" ]] && vpcs log info "Installing raptor-cli via rubygems."
# First ensure gem and ruby executables are available, either via a system package or rbenv/rvm.

# If using rbenv/rvm:
gem install raptor-cli --source https://artifactory.groupondev.com/artifactory/api/gems/rubygems

# System-wide install:
#sudo gem install raptor-cli --source https://artifactory.groupondev.com/artifactory/api/gems/rubygems

# User install:
#gem install raptor-cli --source https://artifactory.groupondev.com/artifactory/api/gems/rubygems --user-install